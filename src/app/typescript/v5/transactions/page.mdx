# Transactions

Transactions are the primary way to interact with smart contracts. They are created using the `transaction` function.

There are 4 ways to create a transaction, all of these return the same transaction object.

## Method Signature

```ts
import { prepareTransaction } from "thirdweb";

const tx = prepareTransaction({
	contract,
	// pass the method signature that you want to call
	method: "function mintTo(address to, uint256 amount)",
	// and the params for that method
	// their types are automatically inferred based on the method signature
	params: ["0x123...", 100n * 10n ** 18n],
});
```

## 1. Automatic ABI Resolution

```ts
import { prepareTransaction } from "thirdweb";
const tx = prepareTransaction({
	contract,
	// in this case we only pass the name of the method we want to call
	method: "mintTo",
	// however using this method we lose type safety for our params
	params: ["0x123...", 100n * 10n ** 18n],
});
```

## 2. Explicit Contract ABI

```ts
import { getContract, prepareTransaction } from "thirdweb";

const contract = getContract({
  {...}
  // the abi for the contract is defined here
  abi: [
    ...
    {
      name: "mintTo",
      inputs: [
        {
          type: "address",
          name: "to",
        },
        {
          type: "uint256",
          name: "amount",
        },
      ],
      type: "function",
    }
    ...
  ],
});

const tx = prepareTransaction({
  contract,
  // we get auto-completion for all the available functions on the contract ABI
  method: "mintTo",
  // including full type-safety for the params
  params: ["0x123...", 100n * 10n ** 18n],
});
```

## 3. ABI Snippet

```ts
import { prepareTransaction } from "thirdweb";
const tx = prepareTransaction({
	contract,
	// in this case we pass the piece of the abi for the method we want to call
	abi: {
		name: "mintTo",
		inputs: [
			{
				type: "address",
				name: "to",
			},
			{
				type: "uint256",
				name: "amount",
			},
		],
		type: "function",
	},
	// types are automatically inferred based on the ABI inputs
	params: ["0x123...", 100n * 10n ** 18n],
});
```

## 4. Actions

Transactions have a variety of actions that can be called on them, in all cases this is done by calling the action on the transaction object itself.

### `read` - reading contract state

For reading contract state, there is a shortcut function called `read` that can be used instead of `transaction`:

```ts
import { readContract } from "thirdweb";

// output type is automatically inferred based on the method signature
const balance = await readContract({
	//    ^ bigint
	contract: contract,
	method: "function balanceOf(address) view returns (uint256)",
	params: ["0x123..."],
});
```

Which is the equivalent of doing:

```ts
import { transaction, readTransaction } from "thirdweb";

const tx = transaction({
	contract,
	method: "function balanceOf(address) view returns (uint256)",
	params: ["0x123..."],
});

const balance = await readTransaction(tx);
```

### `estimateGas` - estimating gas cost for a tx

```ts
import { estimateGas } from "thirdweb";

const gasEstimate = await estimateGas({ transaction });
```

### `sendTransaction` - sending a transaction

See [Wallets](#wallets) for more information on how to send a transaction.

```ts
import { sendTransaction } from "thirdweb";
import { privateKeyWallet } from "thirdweb/wallets";

const wallet = privateKeyWallet({ client });

const transactionResult = await sendTransaction({
	transaction,
	wallet,
});
```

### `waitForReceipt` - waiting for a transaction to be mined

```ts
import { waitForReceipt } from "thirdweb";

// get the result from "sendTransaction()"

const receipt = await waitForReceipt(transactionResult);
```

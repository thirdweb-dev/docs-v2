import { Details } from "@/components/Document";
import { WalletsBreadcrumb } from "../_components";

<WalletsBreadcrumb name="Smart Wallet" slug="smart" />

# smartWallet

A wallet configurator for [Smart Wallet](/wallets/smart-wallet) which allows integrating the wallet with React Native

```tsx
import { smartWallet, metamaskWallet } from "@thirdweb-dev/react-native";

const walletConfig = metamaskWallet(); // or use any other wallet

const smartWalletConfig = smartWallet(walletConfig, {
	factoryAddress: "0x...",
	gasless: true,
});
```

## options

<Details summary="walletConfig">

Provide a `WalletConfig` object to use as the personal wallet for the Smart Wallet. You can get this object by calling a wallet configurator function such as `metamaskWallet()`

You can see the list of available wallet configurators for React Native [here](http://localhost:3000/react-native/connecting-wallets).

</Details>

<Details summary="factoryAddress">

The address of the Smart Wallet Factory contract.

Must be a `string`.

</Details>

<Details summary="gasless">

Whether to turn on or off gasless transactions.

- If set to `true`, all gas fees will be paid by a paymaster.
- If set to `false`, all gas fees will be paid by the Smart Wallet itself (needs to be funded).

Must be a `boolean`.

</Details>

## Usage with ConnectWallet

To allow users to connect to this wallet using the [ConnectWallet](/references/react-native/ConnectWallet) component, you can add it to [ThirdwebProvider's supportedWallets](/react-native/connecting-wallets#supported-wallets) prop.

```tsx
import {
  smartWallet,
  metamaskWallet,
  walletConnect,
} from "@thirdweb-dev/react-native";

const config = {
  factoryAddress: "0x...",
  gasless: true,
}

<ThirdwebProvider
  supportedWallets={[
    smartWallet(metamaskWallet(), config),
    smartWallet(walletConnect(), config),
  ]}
  clientId="your-client-id"
>
  <YourApp />
</ThirdwebProvider>;
```

## Usage with useConnect

you can use the `useConnect` hook to programmatically connect to the wallet without using the [ConnectWallet](/references/react-native/ConnectWallet) component.

The wallet also needs to be added in [ThirdwebProvider's supportedWallets](/react-native/connecting-wallets#supported-wallets) if you want the wallet to auto-connect on next page load.

You need to connect to a personal wallet first, You can use the [useConnect](/references/react-native/useConnect) hook to connect to a personal wallet first and then connect to the Smart Wallet. Make sure personal wallet is on the same network as the Smart Wallet.

```tsx
import {
	useConnect,
	smartWallet,
	metamaskWallet,
} from "@thirdweb-dev/react-native";
import { Goerli } from "@thirdweb-dev/chains";

const personalWalletConfig = metamaskWallet(); // or use any other wallet

const smartWalletConfig = smartWallet(personalWalletConfig, {
	factoryAddress: "0x...",
	gasless: true,
});

function App() {
	const connect = useConnect();

	const handleConnect = async () => {
		// 1. connect the personal wallet first on the network that the smart wallet is deployed to
		const personalWallet = await connect(personalWalletConfig, {
			chainId: Goerli.chainId,
		});

		// 2. connect to smart wallet
		const smartWallet = await connect(smartWalletConfig, {
			chainId: Goerli.chainId,
			personalWallet: personalWallet,
		});

		console.log("connected to", smartWallet);
	};

	return <View> ... </View>;
}
```
